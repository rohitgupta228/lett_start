var priceMapper={1:"12",2:"12",3:"4",4:"",5:"8",6:"",7:"4",8:"8",9:"16",10:"8",11:"12",12:"12",13:"",14:"",15:"",16:"8",17:"12",18:"4"};!function(e){var t=function(){};t.prototype.init=function(){var t=this;if(e.API){e("#themes").find(".loader-wrap").addClass("show");var s=window.location.pathname.split("/"),i=s.length>0?s[s.length-1]:"";if(!i.length)return;var a=i.split("."),r=a[0].indexOf("-")>0?a[0].split("-")[0]:a[0],n="product/lists?category";"free-themes"===a[0]?n="product/lists?category=freebies":"all-themes"!==a[0]&&(n="product/lists?category="+r),e.API.getWithoutToken(n).then((function(s){t.generateHTML(s.products.data),e("#pagination-wrapper").length&&t.createPagination(s.products.total,s.products.per_page)})).catch((function(){})).finally((function(){e("#themes").find(".loader-wrap").removeClass("show")}))}},t.prototype.createPagination=function(t,s){var i=this;e("#pagination-wrapper").twbsPagination({totalPages:t%s>0?parseInt(t/s)+1:t/s,first:'<i class="bx bx-chevrons-left"></i>',last:'<i class="bx bx-chevrons-right"></i>',prev:'<i class="bx bx-chevron-left"></i>',next:'<i class="bx bx-chevron-right"></i>',onPageClick:function(e,t){i.getProductByPage(t)}})},t.prototype.getProductByPage=function(t){var s=this;e.API&&(e("#themes").find(".loader-wrap").addClass("show"),e.API.getWithoutToken("product/lists?category&page="+t).then((function(e){s.generateHTML(e.products.data)})).catch((function(){})).finally((function(){e("#themes").find(".loader-wrap").removeClass("show")})))},t.prototype.generateHTML=function(t){e("#themes-list").html(""),t&&t.length&&t.forEach((function(t,s){var i="",a=t.screenshot.split(".")[0],r=t.screenshot.split(".")[1],n=t.screenshot?a+"-sm."+r:"loading.jpg",o=priceMapper[t.id]>4?"$"+priceMapper[t.id]:"";i+='<div class="col-md-6"><div class="demo-item" id="'+t.id+'"><a href="theme/'+t.detailLink+'" class="screenshot"><img src="assets/images/slider-screenshot/'+t.screenshot+'" srcset="assets/images/slider-screenshot/'+n+" 766w, assets/images/slider-screenshot/"+t.screenshot+' 3000w" alt="'+t.name+'" class="img-fluid w-100"  width="714" height="456"/></a><div class="action-btn"><a href="theme/'+t.detailLink+'#demos" title="Live Preview" class="btn btn-primary btn-sm">Live Preview</a></div><div class="theme-desc"><div class="title"><h3 class="h5"><a href="theme/'+t.detailLink+'" title="'+t.name+'">'+t.name+"</a></h3><p>"+t.oneLinerDesc+'</p></div><div class="price"><h4 class="font-weight-bold">$'+t.price+'<span class="original-price">'+o+'</span></h4><a class="category" href="'+t.catLink+'">'+t.mainCat+"</a></div></div></div></div>";var c=e.parseHTML(i);t.category&&t.category.indexOf("angular")>-1&&e(c).find(".screenshot").append("<div class='icon'><i class='bx bxl-angular'></i></div>"),e("#themes-list").append(c),e("html, body").stop().animate({scrollTop:0},100)}))},t.prototype.filterProducts=function(){var t,s=e(".search-box .form-control").val();t=(s=s?s.trim():"").length>3?this.products.filter((function(e,t){return e.category.indexOf(s)>-1||e.name.toLowerCase().indexOf(s)>-1})):this.products,this.generateHTML(t)},e.pageProducts=new t,e.pageProducts.Constructor=t}(window.jQuery),function(e){"use strict";window.jQuery.pageProducts.init()}();