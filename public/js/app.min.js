function convertSerializeObj(e){var o={};return e.forEach(function(e){o[e.name]=e.value}),o}!function(i){var e=function(){};e.prototype.init=function(){var e=window.location.href.split(/[?#]/)[0],n=window.location.pathname.split("/");["/vendors/boxicons/css/boxicons.min.css","/css/plugins.min.css","/css/style.min.css"].forEach(function(e){n.includes("theme")&&(e="../"+e);var o=document.createElement("link");o.rel="stylesheet",o.href=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}),this.hideLoader();var o=this;i(".accordion .collapse").length&&(i(".accordion .collapse").on("show.bs.collapse",function(){i(this).parents(".card").addClass("active")}),i(".accordion .collapse").on("hide.bs.collapse",function(){i(this).parents(".card").removeClass("active")})),i(".back-top").length&&i(".back-top").on("click",function(){i("html, body").animate({scrollTop:0},500)}),i("#support-link").on("click",function(){if(null!==localStorage.getItem("token")){var e="support.html";window.location.pathname.split("/").includes("theme")&&(e="../"+e),window.location.href=e}else i("#loginModal").modal("show")}),i(".navbar-header .navbar-toggler").on("click",function(){var e=i(this).attr("data-target");i(e).slideToggle().removeClass("collapse")}),i("#choose-file").on("click",function(){i("#upload-image").trigger("click")}),i("#resetModal").length&&i("#resetModal").on("hide.bs.modal",function(){window.history.pushState({},"",window.location.origin+window.location.pathname)}),i(".header .navbar-nav .nav-link").each(function(){this.href==e&&i(this).addClass("active")}),i(".password-group .icon-view").on("click",function(){i(this).parent().toggleClass("active");var e=i(this).siblings("input");"text"===e.attr("type").toLowerCase()?e.attr("type","password"):e.attr("type","text")}),i(".modal").modal({backdrop:"static",keyboard:!1,show:!1}),i("#forgot-btn").on("click",function(){i(".auth-modal").modal("hide"),i("#forgotModal").modal("show")}),i("#register-btn").on("click",function(){i(".auth-modal").modal("hide"),i("#registerModal").modal("show")}),i("#login-btn, #forgot-login-btn, #auth-btn").on("click",function(){i(".auth-modal").modal("hide"),i("#loginModal").modal("show")}),i(".header .navbar-nav .dropdown-item").each(function(){this.href==e&&(i(this).addClass("active"),i(this).parents(".dropdown-menu").siblings(".nav-link").addClass("active"))}),i("#upload-image").on("change",function(){i("#choose-file").find("span").hide(),i("#choose-file").find(".btn-loader").show();var e=this.files[0];o.loadImg(e,this)}),i("#search-form").on("submit",function(){var e=i(this).find(".form-control").val(),o=new URLSearchParams;o.append("s",e),window.location.href="search-result.html?"+o}),this.initServiceWorker(),this.messages(),this.getUserDetails(),this.logout(),this.windowScroll()},e.prototype.initServiceWorker=function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.min.js").then(function(e){console.log("service worker registered")}).catch(function(e){console.log("service worker not registered",e)})},e.prototype.messages=function(){i(".error-msgs").length&&i(document).on("click",".error-msgs .close",function(){i(this).parents(".error-msgs").find("p").remove(),i(this).parent().hide()}),i(".success-msgs").length&&i(document).on("click",".success-msgs .close",function(){i(this).parents(".success-msgs").find("p").remove(),i(this).parent().hide()})},e.prototype.logout=function(){var e=this;i("#logout-btn").on("click",function(){e.showContentLoader(i("#logged-user").find(".loader-wrap")),e.logoutUser()})},e.prototype.loadImg=function(e,o){var r,n=this;if(e){if(!e.name.match(/.(jpg|jpeg|png|gif)$/i))return n.showError(o,"Please choose valid file","alert-success","alert-danger"),i("#choose-file").find("span").show(),void i("#choose-file").find(".btn-loader").hide();i(o).parents("form").find(".error-msgs").hide(),(r=new Image).onload=function(){if(160<this.width){return console.log(window.currentuser),i(".profile-image img").hide(),i(".profile-image img").attr("src","assets/images/client-thumb.png").show(),n.showError(o,"The file is too large. Allowed maximum size of 160 X 160","alert-success","alert-danger"),i("#choose-file").find("span").show(),void i("#choose-file").find(".btn-loader").hide()}n.uploadImage(e,o)},r.onerror=function(){error={flag:!0,msg:"Image load error"}},r.src=window.URL.createObjectURL(e),r.style.display="none",i(".profile-image img").attr("src",window.URL.createObjectURL(e))}},e.prototype.uploadImage=function(e,r){var n=this,o=new FormData;(o.append("image",e),i.API)&&i.API.profilePic("user/upload/profile-image",o).then(function(e){n.showError(r,"Image uploaded successfully","alert-danger","alert-success"),i("#choose-file").find("span").text("Change Profile Image")}).catch(function(e){if(e.responseJSON&&401===e.responseJSON.code){var o="Image upload failed";n.showError(r,o,"alert-success","alert-danger"),i(".profile-image img").attr("src",window.currentuser.user_details.image)}else{o="Please signin to update profile";n.showError(r,o,"alert-success","alert-danger"),i("#choose-file").find("span").show(),i("#choose-file").find(".btn-loader").hide()}}).finally(function(){i("#choose-file").find("span").show(),i("#choose-file").find(".btn-loader").hide()})},e.prototype.showError=function(e,o,r,n){i(e).parents("form").find(".error-msgs").find("p").remove(),i(e).parents("form").find(".error-msgs").removeClass(r).addClass(n).append("<p>"+o+"</p>").fadeIn(200)},e.prototype.showLoader=function(){i(".fakeLoader").show()},e.prototype.hideLoader=function(){i(".fakeLoader").hide()},e.prototype.showContentLoader=function(e){i(e).addClass("show")},e.prototype.hideContentLoader=function(e){i(e).removeClass("show")},e.prototype.getUserDetails=function(){var o=this;i.API&&(o.showContentLoader(i("#auth-btn").parent().find(".loader-wrap")),i.API.get("user/details").then(function(e){e&&e.hasOwnProperty("user")&&o.fillProfile(e.user)}).catch(function(e){e.responseJSON&&401===e.responseJSON.code&&localStorage.clear()}).finally(function(){o.hideContentLoader(i("#auth-btn").parent().find(".loader-wrap"))}))},e.prototype.fillProfile=function(e){i("#auth-btn").parent().hide(),i("#logged-user").fadeIn(200);var o="assets/images/client-thumb.png";window.location.pathname.split("/").includes("theme")&&(o="../"+o),(window.currentuser=e)&&e.user_details&&e.user_details.image&&(o=e.user_details.image),i("#logged-user").find(".dropdown-toggle img").attr("src",o),window.currentuser&&i("#edit-user-name").length&&i("#edit-user-email").length&&(i("#edit-user-name").val(window.currentuser.username),i("#edit-user-email").val(window.currentuser.email)),window.currentuser.user_details&&(i(".profile-image img").length&&(window.currentuser.user_details.image&&i(".profile-image img").attr("src",window.currentuser.user_details.image),i("#choose-file").children().first().text("Change Profile Image")),i("#edit-profile-form").length&&i("#edit-profile-form").find(".form-control").each(function(){var e=i(this).attr("name"),o=window.currentuser.user_details[e];o?(i(this).val(o),i(this).parent(".app-label").addClass("up")):i(this).val("")}))},e.prototype.logoutUser=function(){var e=this;i.API&&i.API.get("user/logout").then(function(e){i("#logged-user").hide(),i("#auth-btn").parent().fadeIn(200),localStorage.clear(),window.location.reload()}).catch(function(e){console.log("logout user error --\x3e",e)}).finally(function(){e.hideContentLoader(i("#logged-user").find(".loader-wrap"))})},e.prototype.windowScroll=function(){var o=i(document).outerHeight();i(window).on("scroll",function(){var e=i(this).scrollTop();20<=e?i(".header").addClass("fixed-nav"):i(".header").removeClass("fixed-nav"),o/2<e?i(".back-top").addClass("show"):i(".back-top").removeClass("show")})},i.App=new e,i.App.Constructor=e}(window.jQuery),function(e){"use strict";window.jQuery.App.init()}(),function(t){var e=function(){};e.prototype.init=function(){this.validateLogin(),this.validateRegister(),this.validateForgot(),this.validateReset()},e.prototype.validateLogin=function(){t("#login-form").length&&t("#login-form").validate({focusInvalid:!1,rules:{username:{required:!0},password:{required:!0},"validation-required":{required:!0}},errorPlacement:function(e,o){return t(o).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){t(e).parents(".form-group").addClass("invalid-field")},unhighlight:function(e){t(e).parents(".form-group").removeClass("invalid-field"),t(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(r){t(r).find("[type = 'submit']").addClass("disable-events");var e=convertSerializeObj(t(r).serializeArray());t.API&&t.API.postWithoutToken("user/login",e).then(function(e){if(t(r)[0].reset(),e&&e.hasOwnProperty("token")){var o=e.token.original;localStorage.setItem("token",o.access_token),window.location.reload()}}).catch(function(e){e.responseJSON&&401===e.responseJSON.code&&(t(r).find("#errorMsg").find("p").remove(),t(r).find("#errorMsg").append("<p>Invalid username or password.</p>"),t(r).find("#errorMsg").fadeIn(200))}).finally(function(){t(r).find("[type = 'submit']").removeClass("disable-events")})}})},e.prototype.validateRegister=function(){t("#signup-form").length&&t("#signup-form").validate({focusInvalid:!1,rules:{username:{required:!0},email:{required:!0},password:{required:!0,minlength:6,maxlength:32},password_confirmation:{required:!0,equalTo:"#password_primary"},"validation-required":{required:!0}},errorPlacement:function(e,o){return"Please enter a valid email address."===e[0].innerText?t(o).siblings(".validation-error").text(e[0].innerText).removeClass("d-none"):"Please enter the same value again."===t(e[0]).text()?t(o).siblings(".validation-error").removeClass("d-none").text("Password and confirm password should be same"):"Please enter at least 6 characters."===t(e[0]).text()||"Please enter no more than 32 characters."===t(e[0]).text()?t(o).siblings(".validation-error").removeClass("d-none").text(t(e[0]).text()):t(o).siblings(".validation-error").addClass("d-none"),!0},highlight:function(e){t(e).parents(".form-group").addClass("invalid-field")},unhighlight:function(e){t(e).parents(".form-group").removeClass("invalid-field"),t(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(s){t(s).find("[type = 'submit']").addClass("disable-events");var e=convertSerializeObj(t(s).serializeArray());t.API&&t.API.postWithoutToken("user/signup",e).then(function(e){if(t(s)[0].reset(),e&&e.hasOwnProperty("token")){var o=e.token.original;localStorage.setItem("token",o.access_token),window.location.href="/"}}).catch(function(e){if(e&&e.responseJSON){var o=e.responseJSON;if(o.code&&400===o.code&&o.error){var r=o.error;for(var n in r){var i="<p>"+r[n]+"</p>";t(s).find("#errorMsg").append(i)}t(s).find("#errorMsg").fadeIn(200)}}}).finally(function(){t(s).find("[type = 'submit']").removeClass("disable-events")})}})},e.prototype.validateForgot=function(){t("#forgot-form").length&&t("#forgot-form").validate({focusInvalid:!1,rules:{email:{required:!0,email:!0},"validation-required":{required:!0}},errorPlacement:function(e,o){return t(o).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){t(e).parents(".form-group").addClass("invalid-field")},unhighlight:function(e){t(e).parents(".form-group").removeClass("invalid-field"),t(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(r){t(r).find("[type = 'submit']").addClass("disable-events");var e=convertSerializeObj(t(r).serializeArray());t.API&&t.API.postWithoutToken("user/forgot-password",e).then(function(e){console.log("data ==>",e),t(r)[0].reset(),"User not found"===e.message?(t(r).find("#successMsg").find("p").remove(),t(r).find("#successMsg").removeClass("alert-success").addClass("alert-danger").append("<p>Email id not match with our records.</p>")):(t(r).find("#successMsg").find("p").remove(),t(r).find("#successMsg").removeClass("alert-danger").addClass("alert-success").append("<p>Reset password mail has been send to your email address.</p>")),t(r).find("#successMsg").fadeIn(200)}).catch(function(e){if(err&&err.responseJSON){var o=err.responseJSON;o.code&&400===o.code&&o.error&&(t(r).find("#errorMsg").append("<p>Email id not match with our records. Please contact admin in case your are facing any issue.</p>"),t(r).find("#errorMsg").fadeIn(200))}}).finally(function(){t(r).find("[type = 'submit']").removeClass("disable-events")})}})},e.prototype.validateReset=function(){t("#reset-form").length&&t("#reset-form").validate({focusInvalid:!1,rules:{password:{required:!0,minlength:6,maxlength:32},password_confirmation:{required:!0,equalTo:"#password_reset"},"validation-required":{required:!0}},errorPlacement:function(e,o){return"Please enter the same value again."===t(e[0]).text()&&t(o).siblings(".validation-error").removeClass("d-none").text("Password and confirm password should be same"),t(o).siblings(".validation-error").removeClass("d-none"),!0},highlight:function(e){t(e).parents(".form-group").addClass("invalid-field")},unhighlight:function(e){t(e).parents(".form-group").removeClass("invalid-field"),t(e).siblings(".validation-error").addClass("d-none")},submitHandler:function(r){t(r).find("[type = 'submit']").addClass("disable-events");var e=new URLSearchParams(window.location.search),o=e.get("token"),n=e.get("email");if(n&&n.length&&o&&o.length){var i=convertSerializeObj(t(r).serializeArray());if(i.token=o,i.email=n,t.API)t.API.postWithoutToken("user/reset-password",i).then(function(e){t(r)[0].reset(),t(r).find("#successMsg").append("<p>Password reset successfully. Please signin again.</p>"),t(r).find("#successMsg").fadeIn(200),setTimeout(function(){window.location.href="index.html"},5e3)}).catch(function(e){if(e&&e.responseJSON){var o=e.responseJSON;o.code&&400===o.code&&o.error&&(t(r).find(".error-msgs").append("<p>Link has been expired.</p>"),t(r).find(".error-msgs").fadeIn(200))}}).finally(function(){t(r).find("[type = 'submit']").removeClass("disable-events")})}}})},t.Auth=new e,t.Auth.Constructor=e}(window.jQuery),function(e){"use strict";window.jQuery.Auth.init()}();